<section class="bg-main-light shadow p-4 my-5 rounded-4">
    <h1 class="h1 text-main text-center fw-bolder">Register</h1>
    <form [formGroup]="registerForm" class="row-cols-1 justify-content-center" (ngSubmit)="registerSubmit()">
        <div class="my-2">
            <label class="form-label" for="name">Name</label>
            <input formControlName="name" type="text" id="name" class="form-control">
            @if(registerForm.get('name')?.errors &&( registerForm.get('name')?.touched ||
            registerForm.get('name')?.dirty)){
            <div class="alert alert-danger my-1">
                @if(registerForm.get('name')?.getError('required')){
                <p class="m-0">Name Is Required.</p>
                }@else if(registerForm.get('name')?.getError('minlength')){
                <p class="m-0">Name Should be more than or equal 3 characters.</p>
                }@else if(registerForm.get('name')?.getError('maxlength')){
                <p class="m-0">Name Should be less than or equal 15 characters.</p>
                }
            </div>
            }
        </div>
        <div class="my-2">
            <label class="form-label" for="email">Email</label>
            <input formControlName="email" type="email" id="email" class="form-control">
            @if(registerForm.get('email')?.errors && (registerForm.get('email')?.touched
            ||registerForm.get('email')?.dirty )){
            <div class="alert alert-danger my-1">
                @if(registerForm.get('email')?.getError('required')){
                <p class="m-0">Email Is Required.</p>
                }@else if(registerForm.get('email')?.getError('email')){
                <p class="m-0">Please enter a valid email address</p>
                }
            </div>
            }
        </div>
        <div class="my-2">
            <label class="form-label" for="password">Password</label>
            <input formControlName="password" type="password" id="password" class="form-control">
            @if(registerForm.get('password')?.errors && (registerForm.get('password')?.touched ||
            registerForm.get('password')?.dirty )){
            <div class="alert alert-danger my-1">
                @if(registerForm.get('password')?.getError('required')){
                <p class="m-0">Password Is Required.</p>
                }@else if(registerForm.get('password')?.getError('pattern')){
                <p class="m-0">Please enter a valid Password</p>
                }
            </div>
            }
        </div>
        <div class="my-2">
            <label class="form-label" for="rePassword">Confirm Password</label>
            <input formControlName="rePassword" type="password" id="rePassword" class="form-control">
            @if(registerForm.getError('mismatch') &&
            (registerForm.get('rePassword')?.touched||registerForm.get('rePassword')?.dirty)){
            <div class="alert alert-danger my-1">
                <p class="m-0">Password confirmation is not correct</p>
            </div>
            }
        </div>
        <div class="my-2">
            <label class="form-label" for="phone">Phone</label>
            <input formControlName="phone" type="text" id="phone" class="form-control">
            @if(registerForm.get('phone')?.errors &&
            (registerForm.get('phone')?.touched||registerForm.get('phone')?.dirty)){
            <div class="alert alert-danger my-1">
                @if(registerForm.get('phone')?.getError('required')){
                <p class="m-0">Phone Is Required.</p>
                }@else if(registerForm.get('phone')?.getError('pattern')){
                <p class="m-0">Please enter a valid Phone</p>
                }
            </div>
            }
        </div>
        @if(msgError){
        <div class="alert alert-danger">
            <p class="m-0">{{msgError}}</p>
        </div>
        }
        @if(msgSuccess){
        <div class="alert alert-success">
            <p class="m-0">{{msgSuccess}}</p>
        </div>
        }
        <button [disabled]="registerForm.invalid || isLoading" type="submit" class="btn-main mt-2">Register
            @if(isLoading){
            <span><i class=" fas fa-spin fa-spinner"></i></span>
            }
        </button>
    </form>
</section>